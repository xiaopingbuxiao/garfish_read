{
  "version": 3,
  "sources": ["../../src/utils.ts", "../../src/queue.ts", "../../src/sentry.ts", "../../src/domApis.ts", "../../src/garfish.ts", "../../src/mimeType.ts", "../../src/dispatchEvents.ts", "../../src/container.ts", "../../src/templateParse.ts", "../../src/logger.ts", "../../src/lock.ts"],
  "sourcesContent": ["export const noop = () => {};\n\nexport const objectToString = Object.prototype.toString;\n\nexport const supportWasm = typeof WebAssembly === 'object';\n\nexport const idleCallback =\n  window.requestIdleCallback || window.requestAnimationFrame;\n\nexport function createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n\nexport function isObject(val: any) {\n  return val && typeof val === 'object';\n}\n\nexport function isPlainObject(val: any): val is Object {\n  return objectToString.call(val) === '[object Object]';\n}\n\nexport function getType(val: any) {\n  return objectToString.call(val).slice(8, -1).toLowerCase();\n}\n\nexport function isPromise(obj: any): obj is Promise<any> {\n  return isObject(obj) && typeof obj.then === 'function';\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function hasOwn(obj: any, key: PropertyKey): boolean {\n  return hasOwnProperty.call(obj, key);\n}\n\nexport function def(obj: Object, key: string, value: any) {\n  Object.defineProperty(obj, key, {\n    get: () => value,\n    set: (val: any) => {\n      if ((typeof process !== \"undefined\" && process.env && process.env.NODE_ENV ? (process.env.NODE_ENV !== \"production\") : false)) {\n        if (val !== value) {\n          error(`Try to modify a read-only property ${key}`);\n        }\n      }\n    },\n    configurable: (typeof process !== \"undefined\" && process.env && process.env.NODE_ENV ? (process.env.NODE_ENV !== \"production\") : false) ? true : false,\n  });\n}\n\n// Array to Object `['a'] => { a: true }`\nexport function makeMap<T extends Array<PropertyKey>>(list: T) {\n  const map: { [k in T[number]]: true } = Object.create(null);\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return (val: PropertyKey) => !!map[val];\n}\n\n// Array to Object `['a'] => { a: true }`\nexport function makeMapObject<T extends Array<string>>(list: T) {\n  const map: { [k in T[number]]: true } = Object.create(null);\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n\n  return map as { [k in T[number]]: true };\n}\n\nexport function inBrowser() {\n  return typeof window !== 'undefined';\n}\n\nconst warnPrefix = '[Garfish warning]';\nconst processError = (\n  error: string | Error,\n  fn: (val: string | Error, isString: boolean) => void,\n) => {\n  try {\n    if (typeof error === 'string') {\n      error = `${warnPrefix}: ${error}\\n\\n`;\n      fn(error, true);\n    } else if (error instanceof Error) {\n      if (!error.message.startsWith(warnPrefix)) {\n        error.message = `${warnPrefix}: ${error.message}`;\n      }\n      fn(error, false);\n    }\n  } catch (e) {\n    fn(error, typeof error === 'string');\n  }\n};\n\nexport function warn(msg: string | Error) {\n  processError(msg, (e, isString) => {\n    const warnMsg = isString ? e : (e as Error).message;\n    if (false) {\n      callTestCallback(warn, warnMsg);\n      return;\n    }\n    console.warn(warnMsg);\n  });\n}\n\nexport function error(error: string | Error) {\n  processError(error, (e, isString) => {\n    if (isString) {\n      throw new Error(e as string);\n    } else {\n      throw e;\n    }\n  });\n}\n\nexport function validURL(str) {\n  const pattern = new RegExp(\n    '^(https?:\\\\/\\\\/)?' + // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n      '(\\\\#[-a-z\\\\d_]*)?$',\n    'i',\n  ); // fragment locator\n  return !!pattern.test(str);\n}\n\n// When the string is set as the object property name,\n// it will be attempted to be transformed into a constant version to avoid repeated caching by the browser\nexport function internFunc(internalizeString) {\n  // Don't consider \"Hash-collision\uFF0Chttps://en.wikipedia.org/wiki/Collision_(computer_science)\"\n  // v8 \u8C8C\u4F3C\u5728 16383 \u957F\u5EA6\u65F6\u4F1A\u53D1\u751F hash-collision \u7ECF\u8FC7\u6D4B\u8BD5\u540E\u53D1\u73B0\u6B63\u5E38\n  const temporaryOb = {};\n  temporaryOb[internalizeString] = true;\n  return Object.keys(temporaryOb)[0];\n}\n\nexport function evalWithEnv(\n  code: string,\n  params: Record<string, any>,\n  context: any,\n  useStrict = false,\n) {\n  const keys = Object.keys(params);\n  const nativeWindow = (0, eval)('window;');\n  // No random value can be used, otherwise it cannot be reused as a constant string\n  const randomValKey = '__garfish__exec_temporary__';\n  const values = keys.map((k) => `window.${randomValKey}.${k}`);\n  const contextKey = '__garfish_exec_temporary_context__';\n\n  try {\n    nativeWindow[randomValKey] = params;\n    nativeWindow[contextKey] = context;\n    const evalInfo = [\n      `;(function(${keys.join(',')}){${useStrict ? '\"use strict\";' : ''}`,\n      `\\n}).call(window.${contextKey},${values.join(',')});`,\n    ];\n    const internalizeString = internFunc(evalInfo[0] + code + evalInfo[1]);\n    // (0, eval) This expression makes the eval under the global scope\n    (0, eval)(internalizeString);\n  } catch (e) {\n    throw e;\n  } finally {\n    delete nativeWindow[randomValKey];\n    delete nativeWindow[contextKey];\n  }\n}\n\nexport function safeWrapper(callback: (...args: Array<any>) => any) {\n  try {\n    callback();\n  } catch (e) {\n    (typeof process !== \"undefined\" && process.env && process.env.NODE_ENV ? (process.env.NODE_ENV !== \"production\") : false) && warn(e);\n  }\n}\n\nexport function nextTick(cb: () => void): void {\n  Promise.resolve().then(cb);\n}\n\nexport function assert(\n  condition: any,\n  msg?: string | Error,\n): asserts condition {\n  if (!condition) {\n    error(msg || 'unknow reason');\n  }\n}\n\nexport function toBoolean(val: any) {\n  if (val === '') return true;\n  if (val === 'false') return false;\n  return Boolean(val);\n}\n\nexport function remove<T>(list: Array<T> | Set<T>, el: T) {\n  if (Array.isArray(list)) {\n    const i = list.indexOf(el);\n    if (i > -1) {\n      list.splice(i, 1);\n      return true;\n    }\n    return false;\n  } else {\n    if (list.has(el)) {\n      list.delete(el);\n      return true;\n    }\n    return false;\n  }\n}\n\n// \u6709\u4E9B\u6D4B\u8BD5 jest.mock \u4E0D\u597D\u6D4B\uFF0C\u53EF\u7528\u8FD9\u4E2A\u5DE5\u5177\u65B9\u6CD5\nexport function callTestCallback(obj: any, ...args: any[]) {\n  if (false) {\n    const oncalled = obj._oncalled;\n    if (typeof oncalled === 'function') {\n      oncalled.apply(null, args);\n    }\n  }\n}\n\n// \u6570\u7EC4\u53BB\u91CD\uFF0C\u4E0D\u4FDD\u8BC1\u987A\u5E8F\nexport function unique<T>(list: Array<T>) {\n  const res: Array<T> = [];\n  for (let i = 0, len = list.length; i < len; i++) {\n    for (let j = i + 1; j < len; j++) {\n      if (list[i] === list[j]) {\n        j = ++i;\n      }\n    }\n    res.push(list[i]);\n  }\n  return false ? res.sort() : res;\n}\n\nexport function isPrimitive(val: any) {\n  return (\n    val === null ||\n    typeof val === 'string' ||\n    typeof val === 'number' ||\n    typeof val === 'bigint' ||\n    typeof val === 'symbol' ||\n    typeof val === 'boolean' ||\n    typeof val === 'undefined'\n  );\n}\n\nexport function filterUndefinedVal<T extends Object>(ob: T) {\n  return Object.keys(ob).reduce((res: T, key: any) => {\n    if (res[key] === undefined) {\n      delete res[key];\n    }\n    return res;\n  }, ob);\n}\n\n// Deeply merge two objects, can handle circular references, the latter overwrite the previous\nexport function deepMerge<K, T>(\n  o: K,\n  n: T,\n  dp?: boolean,\n  ignores?: Array<string>,\n) {\n  const leftRecord = new WeakMap();\n  const rightRecord = new WeakMap();\n  const valueRecord = new WeakMap();\n  const ignoresMap = makeMap(ignores || []);\n\n  const isArray = Array.isArray;\n  const isAllRefs = (a, b) => {\n    if (leftRecord.has(a) || rightRecord.has(a)) {\n      return leftRecord.has(b) || rightRecord.has(b);\n    }\n  };\n\n  const clone = (v) => {\n    // Deep clone\n    if (isPrimitive(v) || typeof v === 'function') {\n      return v;\n    } else if (valueRecord.has(v)) {\n      return valueRecord.get(v);\n    } else if (leftRecord.has(v)) {\n      return leftRecord.get(v);\n    } else if (rightRecord.has(v)) {\n      return rightRecord.get(v);\n    } else if (isArray(v)) {\n      if (dp) v = unique(v);\n      const arr: Array<any> = [];\n      valueRecord.set(v, arr);\n      for (let i = 0, len = v.length; i < len; i++) {\n        arr[i] = clone(v[i]);\n      }\n      return arr;\n    } else if (typeof v === 'object') {\n      const obj = {};\n      valueRecord.set(v, obj);\n      const keys = Reflect.ownKeys(v);\n      keys.forEach((key) => (obj[key] = clone(v[key])));\n      return obj;\n    }\n  };\n\n  const setValue = (r, k, key) => {\n    if (r.has(k)) {\n      return r.get(k);\n    } else {\n      // Ignore the content does not need to copy\n      if (ignoresMap[key]) {\n        return k;\n      }\n      const val = clone(k);\n      if (!isPrimitive(val) && typeof val !== 'function') {\n        r.set(k, val);\n      }\n      return val;\n    }\n  };\n\n  const mergeObject = (l, r) => {\n    const res = {};\n    const leftKeys = Reflect.ownKeys(l);\n    const rightKeys = Reflect.ownKeys(r);\n\n    leftRecord.set(l, res);\n    rightRecord.set(r, res);\n\n    leftKeys.forEach((key) => {\n      const lv = l[key];\n      const rv = r[key];\n\n      if (hasOwn(r, key)) {\n        if (isArray(lv) && isArray(rv)) {\n          const item = clone([...lv, ...rv]);\n          res[key] = dp ? unique(item) : item;\n        } else if (isPlainObject(lv) && isPlainObject(rv)) {\n          res[key] = isAllRefs(lv, rv)\n            ? leftRecord.get(lv) // The same value on the left and right, whichever is OK\n            : mergeObject(lv, rv);\n        } else {\n          res[key] = setValue(rightRecord, rv, key);\n        }\n      } else {\n        res[key] = setValue(leftRecord, lv, key);\n      }\n    });\n\n    rightKeys.forEach((key) => {\n      if (hasOwn(res, key)) return;\n      res[key] = setValue(rightRecord, r[key], key);\n    });\n\n    return res;\n  };\n\n  return mergeObject(o, n) as K & T;\n}\n\n// Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\nexport function isAbsolute(url: string) {\n  // `c:\\\\` \u8FD9\u79CD case \u8FD4\u56DE false\uFF0C\u5728\u6D4F\u89C8\u5668\u4E2D\u4F7F\u7528\u672C\u5730\u56FE\u7247\uFF0C\u5E94\u8BE5\u7528 file \u534F\u8BAE\n  if (!/^[a-zA-Z]:\\\\/.test(url)) {\n    if (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.test(url)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function transformUrl(resolvePath: string, curPath: string) {\n  const baseUrl = new URL(resolvePath, location.href);\n  const realPath = new URL(curPath, baseUrl.href);\n  return realPath.href;\n}\n\nexport function toWsProtocol(url: string) {\n  const data = new URL(url);\n  if (data.protocol.startsWith('http')) {\n    data.protocol = data.protocol === 'https:' ? 'wss:' : 'ws:';\n    return data.toString();\n  }\n  return url;\n}\n\nexport function findTarget(\n  el: Element | ShadowRoot | Document,\n  selectors: Array<string>,\n) {\n  for (const s of selectors) {\n    const target = el.querySelector(s);\n    if (target) return target;\n  }\n  return el;\n}\n\nexport function setDocCurrentScript(\n  target,\n  code: string,\n  define?: boolean,\n  url?: string,\n  async?: boolean,\n  originScript?: HTMLScriptElement,\n) {\n  if (!target) return noop;\n  const el = document.createElement('script');\n  \n  if (!url && code) {\n    el.textContent = code;\n  }\n\n  originScript && originScript.getAttributeNames().forEach((attribute) => {\n    el.setAttribute(attribute, originScript.getAttribute(attribute) || '');\n  });\n\n  if (async) {\n    el.setAttribute('async', 'true');\n  }\n \n  const set = (val) => {\n    try {\n      if (define) {\n        Object.defineProperty(target, 'currentScript', {\n          value: val,\n          writable: true,\n          configurable: true,\n        });\n      } else {\n        target.currentScript = val;\n      }\n    } catch (e) {\n      if ((typeof process !== \"undefined\" && process.env && process.env.NODE_ENV ? (process.env.NODE_ENV !== \"production\") : false)) {\n        warn(e);\n      }\n    }\n  };\n\n  set(el);\n  return () => safeWrapper(()=> delete target.currentScript);\n}\n\nexport function _extends(d, b) {\n  Object.setPrototypeOf(d, b);\n\n  function fNOP(this: any) {\n    this.constructor = d;\n  }\n\n  if (b === null) {\n    d.prototype = Object.create(b);\n  } else {\n    if (b.prototype) fNOP.prototype = b.prototype;\n    d.prototype = new fNOP();\n  }\n}\n\nexport function mapObject(\n  obj: Record<PropertyKey, any>,\n  fn: (key: PropertyKey, val: any) => any,\n) {\n  const destObject = {};\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      destObject[key] = fn(key, obj[key]);\n    }\n  }\n  return destObject;\n}\n\nexport function toBase64(input: string, mimeType?: string) {\n  return new Promise<string>((resolve) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(new Blob([input], { type: mimeType }));\n    reader.onload = () => resolve(reader.result as string);\n  });\n}\n\nexport const hookObjectProperty = <\n  T extends {},\n  K extends keyof T,\n  P extends any[],\n>(\n  obj: T,\n  key: K,\n  hookFunc: (origin: T[K], ...params: P) => T[K],\n) => {\n  return (...params: P) => {\n    if (!obj) {\n      return noop;\n    }\n    const origin = obj[key];\n    const hookedUnsafe = hookFunc(origin, ...params);\n    let hooked = hookedUnsafe;\n\n    // To method packages a layer of a try after all the hooks to catch\n    if (typeof hooked === 'function') {\n      hooked = function (this: any, ...args: any) {\n        try {\n          return (hookedUnsafe as any).apply(this, args);\n        } catch (e) {\n          return typeof origin === 'function' && origin.apply(this, args);\n        }\n      } as any as T[K];\n    }\n    obj[key] = hooked;\n\n    return (strict?: boolean) => {\n      if (!strict || hooked === obj[key]) {\n        obj[key] = origin;\n      }\n    };\n  };\n};\n\nexport function getParameterByName(name, url = window.location.href) {\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\n  const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n    results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\nexport function getGarfishDebugInstanceName(): string | null {\n  const DEBUG_GARFISH_TAG = '__GARFISH_INSTANCE_DEBUG__';\n  return (\n    localStorage.getItem(DEBUG_GARFISH_TAG) ||\n    getParameterByName(DEBUG_GARFISH_TAG)\n  );\n}\n\n// Reflect.set will be called in the set callback, and the DefineProperty callback will be triggered after Reflect.set is called.\n// but the descriptor values \u200B\u200Bwritable, enumerable, and configurable on safari 13.x version are set to false for the second time\n// set and defineProperty callback is async Synchronize back\n// Set the default when calling defineProperty through set \u200B\u200Bwritable, enumerable, and configurable default to true\n// safari 13.x default use strict mode\uFF0Cdescriptor's \u200B\u200Bwritable is false can't set again\n// deal safari 13\nexport function safari13Deal() {\n  let fromSetFlag = false;\n  return {\n    triggerSet() {\n      fromSetFlag = true;\n    },\n    // reason: Reflect.set\n    // Object.defineProperty is used to implement, so defineProperty is triggered when set is triggered\n    // but the descriptor values \u200B\u200Bwritable, enumerable, and configurable on safari 13.x version are set to false for the second time\n    handleDescriptor(descriptor: PropertyDescriptor) {\n      if (fromSetFlag === true) {\n        fromSetFlag = false;\n        if (descriptor?.writable === false) descriptor.writable = true;\n        if (descriptor?.enumerable === false) descriptor.enumerable = true;\n        if (descriptor?.configurable === false) descriptor.configurable = true;\n      }\n    },\n  };\n}\n\nconst SOURCEMAP_REG = /[@#] sourceMappingURL=/g;\nexport function haveSourcemap(code: string) {\n  return SOURCEMAP_REG.test(code);\n}\n\nexport async function createSourcemap(code: string, filename: string) {\n  const content = await toBase64(\n    JSON.stringify({\n      version: 3,\n      sources: [filename],\n      sourcesContent: [code],\n      mappings:\n        ';' +\n        code\n          .split('\\n')\n          .map(() => 'AACA')\n          .join(';'),\n    }),\n  );\n  return `//@ sourceMappingURL=${content}`;\n}\n", "interface Defer {\n  resolve: (value?: any) => void;\n  reject: (reason?: any) => void;\n}\n\nexport class Queue {\n  private fx: Array<Function> = [];\n  private init = true;\n  private lock = false;\n  private finishDefers = new Set<Defer>();\n\n  private next() {\n    if (!this.lock) {\n      this.lock = true;\n      if (this.fx.length === 0) {\n        this.init = true;\n        this.finishDefers.forEach((d) => d.resolve());\n        this.finishDefers.clear();\n      } else {\n        const fn = this.fx.shift();\n        if (fn) {\n          fn(() => {\n            this.lock = false;\n            this.next();\n          });\n        }\n      }\n    }\n  }\n\n  add(fn: (next: () => void) => void) {\n    this.fx.push(fn);\n    if (this.init) {\n      this.lock = false;\n      this.init = false;\n      this.next();\n    }\n  }\n\n  awaitCompletion() {\n    if (this.init) return Promise.resolve();\n    const defer = {} as Defer;\n    this.finishDefers.add(defer);\n    return new Promise((resolve, reject) => {\n      defer.resolve = resolve;\n      defer.reject = reject;\n    });\n  }\n}\n", "// copy from https://github.com/getsentry/sentry-javascript/blob/6.4.0/packages/browser/src/tracekit.ts\nimport { makeMap } from './utils';\n\nexport interface StackFrame {\n  url: string;\n  func: string;\n  args: string[];\n  line: number | null;\n  column: number | null;\n}\n\nexport interface StackTrace {\n  name: string;\n  message: string;\n  mechanism?: string;\n  stack: StackFrame[];\n  failed?: boolean;\n}\nconst chrome =\n  /^\\s*at (?:(.*?) ?\\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\n// gecko regex: `(?:bundle|\\d+\\.js)`: `bundle` is for react native, `\\d+\\.js` also but specifically for ram bundles because it\n// generates filenames without a prefix like `file://` the filenames in the stacktrace are just 42.js\n// We need this specific case for now because we want no other regex to match.\nconst gecko =\n  /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nconst winjs =\n  /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\nconst geckoEval = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\nconst chromeEval = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n// Based on our own mapping pattern - https://github.com/getsentry/sentry/blob/9f08305e09866c8bd6d0c24f5b0aabdd7dd6c59c/src/sentry/lang/javascript/errormapping.py#L83-L108\nconst reactMinifiedRegexp = /Minified React error #\\d+;/i;\n\nconst UNKNOWN_FUNCTION = '?';\nfunction extractMessage(ex: any): string {\n  const message = ex && ex.message;\n  if (!message) {\n    return 'No error message';\n  }\n  if (message.error && typeof message.error.message === 'string') {\n    return message.error.message;\n  }\n  return message;\n}\n\nexport function computeStackTraceFromStackProp(ex: any): StackTrace | null {\n  if (!ex || !ex.stack) {\n    return null;\n  }\n\n  const stack: Array<any> = [];\n  const lines = ex.stack.split('\\n');\n  let isEval;\n  let submatch;\n  let parts;\n  let element;\n\n  for (let i = 0; i < lines.length; ++i) {\n    if ((parts = chrome.exec(lines[i]))) {\n      const isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n      isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n      if (isEval && (submatch = chromeEval.exec(parts[2]))) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = submatch[1]; // url\n      }\n\n      // Arpad: Working with the regexp above is super painful. it is quite a hack, but just stripping the `address at `\n      // prefix here seems like the quickest solution for now.\n      let url =\n        parts[2] && parts[2].indexOf('address at ') === 0\n          ? parts[2].substr('address at '.length)\n          : parts[2];\n\n      // Kamil: One more hack won't hurt us right? Understanding and adding more rules on top of these regexps right now\n      // would be way too time consuming. (TODO: Rewrite whole RegExp to be more readable)\n      let func = parts[1] || UNKNOWN_FUNCTION;\n      const isSafariExtension = func.indexOf('safari-extension') !== -1;\n      const isSafariWebExtension = func.indexOf('safari-web-extension') !== -1;\n      if (isSafariExtension || isSafariWebExtension) {\n        func = func.indexOf('@') !== -1 ? func.split('@')[0] : UNKNOWN_FUNCTION;\n        url = isSafariExtension\n          ? `safari-extension:${url}`\n          : `safari-web-extension:${url}`;\n      }\n\n      element = {\n        url,\n        func,\n        args: isNative ? [parts[2]] : [],\n        line: parts[3] ? +parts[3] : null,\n        column: parts[4] ? +parts[4] : null,\n      };\n    } else if ((parts = winjs.exec(lines[i]))) {\n      element = {\n        url: parts[2],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: [],\n        line: +parts[3],\n        column: parts[4] ? +parts[4] : null,\n      };\n    } else if ((parts = gecko.exec(lines[i]))) {\n      isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n      if (isEval && (submatch = geckoEval.exec(parts[3]))) {\n        // throw out eval line/column and use top-most line number\n        parts[1] = parts[1] || 'eval';\n        parts[3] = submatch[1];\n        parts[4] = submatch[2];\n        parts[5] = ''; // no column when eval\n      } else if (i === 0 && !parts[5] && ex.columnNumber !== void 0) {\n        // FireFox uses this awesome columnNumber property for its top frame\n        // Also note, Firefox's column number is 0-based and everything else expects 1-based,\n        // so adding 1\n        // NOTE: this hack doesn't work if top-most frame is eval\n        stack[0].column = (ex.columnNumber as number) + 1;\n      }\n      element = {\n        url: parts[3],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: parts[2] ? parts[2].split(',') : [],\n        line: parts[4] ? +parts[4] : null,\n        column: parts[5] ? +parts[5] : null,\n      };\n    } else {\n      continue;\n    }\n\n    if (!element.func && element.line) {\n      element.func = UNKNOWN_FUNCTION;\n    }\n\n    stack.push(element);\n  }\n\n  if (!stack.length) {\n    return null;\n  }\n\n  return {\n    message: extractMessage(ex),\n    name: ex.name,\n    stack,\n  };\n}\n\nexport const sourceListTags = [\n  'link',\n  'style',\n  'script',\n  'img',\n  'video',\n  'audio',\n];\nexport const sourceNode = makeMap(sourceListTags);\n\n// Calculate the error object file within the address\nexport function computeErrorUrl(ex: any) {\n  if (ex && ex.filename) return ex.filename;\n  const res = computeStackTraceFromStackProp(ex);\n  if (res) {\n    const urls = res.stack.map((item) => {\n      return item.url;\n    });\n    return urls[0] || null;\n  } else if (ex && ex.target && ex.target.tagName) {\n    const tagName = ex.target.tagName.toLowerCase();\n    if (sourceNode(tagName)) {\n      return ex.target.src || ex.target.href;\n    }\n  }\n\n  return null;\n}\n\n// Filter is not a goal resources from the mistake\nexport function filterAndWrapEventListener(\n  type: string,\n  listener: EventListenerOrEventListenerObject,\n  sourceList: Array<string>,\n) {\n  const errorHandler = function (e) {\n    // Conform to the file list type trigger collection of events\n    if (typeof listener === 'function') {\n      // Through error stack source file, and the source of the static resources determine whether the current error belongs to the current application\n      // if belong to the current application environment monitoring error\n      if (sourceList) {\n        console.log('**********', computeErrorUrl(e));\n        const res = sourceList.find((item) => {\n          return item.indexOf(computeErrorUrl(e)) !== -1;\n        });\n        if (res) {\n          // e.stopPropagation();\n          listener(e);\n        }\n      } else {\n        listener(e);\n      }\n    }\n  };\n\n  const unhandledrejection = function (event) {\n    event.promise.catch((e) => {\n      if (e instanceof Error) {\n        errorHandler(e);\n      } else {\n        if (typeof listener === 'function') listener(event);\n      }\n    });\n  };\n\n  const filterError: EventListenerOrEventListenerObject = function (event) {\n    // Due to the current Garfish rendering process is asynchronous behavior leading to originally 'error' trigger events were 'unhandledrejection' to catch\n    // Filtering error does not belong to the current application resources, has reached the area target application exception\n    // Need a sandbox can effectively capture and create resources increase all child application content\n    if (typeof listener === 'function') {\n      if (type === 'unhandledrejection') {\n        unhandledrejection(event);\n      } else if (type === 'error') {\n        errorHandler(event);\n      } else {\n        listener(event);\n      }\n    }\n  };\n  return filterError;\n}\n", "import { makeMap } from './utils';\n\nexport interface Text {\n  content: string;\n  type: 'text' | 'comment';\n}\n\nexport interface Node {\n  key?: string;\n  type: 'element';\n  tagName: string;\n  children: Array<Node | Text>;\n  attributes: Array<Record<string, string | null>>;\n}\n\ntype Attributes = Array<Record<string, string | null>>;\n\nconst xChar = 120; // \"x\" char\nconst colonChar = 58; // \":\" char\nconst ns = 'http://www.w3.org/2000/svg';\nconst xlinkNS = 'http://www.w3.org/1999/xlink'; // xmlns:xlink\nconst xmlNS = 'http://www.w3.org/XML/1998/namespace'; // xmlns\n\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element\nconst SVG_TAGS =\n  'svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,' +\n  'defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,' +\n  'feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,' +\n  'feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,' +\n  'feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,' +\n  'fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,' +\n  'foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,' +\n  'mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,' +\n  'polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,' +\n  'text,textPath,title,tspan,unknown,use,view';\n\nconst isSVG = makeMap(SVG_TAGS.split(','));\n\nfunction attributesString(attributes: Node['attributes']) {\n  if (!attributes || attributes.length === 0) return '';\n  return attributes.reduce((total, { key, value }) => {\n    return total + (value ? `${key}=\"${value}\" ` : key);\n  }, '');\n}\n\nexport class DOMApis {\n  public document: Document;\n\n  constructor(cusDocument?: Document) {\n    this.document = cusDocument || document;\n  }\n\n  isText(node: Node | Text): node is Text {\n    return node && node.type === 'text';\n  }\n\n  isNode(node: Node | Text) {\n    return node && node.type === 'element';\n  }\n\n  isCommentNode(node: Node | Text) {\n    return node && node.type === 'comment';\n  }\n\n  isCssLinkNode(node: Node) {\n    if (this.isNode(node) && node.tagName === 'link') {\n      return !!node.attributes.find(\n        ({ key, value }) => key === 'rel' && value === 'stylesheet',\n      );\n    }\n    return false;\n  }\n\n  isIconLinkNode(node: Node) {\n    if (this.isNode(node) && node.tagName === 'link') {\n      return !!node.attributes.find(\n        ({ key, value }) => key === 'rel' && value === 'icon',\n      );\n    }\n    return false;\n  }\n\n  isPrefetchJsLinkNode(node: Node) {\n    if (!this.isNode(node) || node.tagName !== 'link') return false;\n    let hasRelAttr, hasAsAttr;\n    for (const { key, value } of node.attributes) {\n      if (key === 'rel') {\n        hasRelAttr = true;\n        if (value !== 'preload' && value !== 'prefetch') {\n          return false;\n        }\n      } else if (key === 'as') {\n        hasAsAttr = true;\n        if (value !== 'script') return false;\n      }\n    }\n    return Boolean(hasRelAttr && hasAsAttr);\n  }\n\n  isRemoteModule(node: Node) {\n    if (!this.isNode(node) || node.tagName !== 'meta') return false;\n    let hasNameAttr, hasSrcAttr;\n    for (const { key, value } of node.attributes) {\n      if (key === 'name') {\n        hasNameAttr = true;\n        if (value !== 'garfish-remote-module') {\n          return false;\n        }\n      } else if (key === 'src') {\n        hasSrcAttr = true;\n        if (typeof value === 'undefined' || value === '') {\n          return false;\n        }\n      }\n    }\n    return Boolean(hasNameAttr && hasSrcAttr);\n  }\n\n  removeElement(el: Element | Comment) {\n    const parentNode = el && el.parentNode;\n    if (parentNode) {\n      parentNode.removeChild(el);\n    }\n  }\n\n  createElement(node: Node) {\n    const { tagName, attributes } = node;\n    const el = isSVG(tagName)\n      ? this.document.createElementNS(ns, tagName)\n      : this.document.createElement(tagName);\n\n    this.applyAttributes(el, attributes);\n    return el;\n  }\n\n  createTextNode(node: Text) {\n    return this.document.createTextNode(node.content);\n  }\n\n  createStyleNode(content: string) {\n    const el = this.document.createElement('style');\n    content && (el.textContent = content);\n    this.applyAttributes(el, [{ key: 'type', value: 'text/css' }]);\n    return el;\n  }\n\n  createLinkCommentNode(node: Node | string) {\n    if (this.isNode(node as Node)) {\n      const ps = attributesString((node as Node).attributes);\n      return `<link ${ps.slice(0, -1)}></link>`;\n    } else {\n      node = node ? `src=\"${node}\" ` : '';\n      return this.document.createComment(\n        `<link ${node}execute by garfish(dynamic)></link>`,\n      );\n    }\n  }\n\n  createScriptCommentNode(node: Node | { code: string; src?: string }) {\n    if (this.isNode(node as Node)) {\n      const { attributes, children } = node as Node;\n      const ps = attributesString(attributes);\n      const code = children?.[0] ? (children[0] as Text).content : '';\n      return this.document.createComment(\n        `<script ${ps} execute by garfish>${code}</script>`,\n      );\n    } else {\n      const { src, code } = node as any;\n      const url = src ? `src=\"${src}\" ` : '';\n      return this.document.createComment(\n        `<script ${url}execute by garfish(dynamic)>${code}</script>`,\n      );\n    }\n  }\n\n  applyAttributes(el: Element, attributes: Attributes) {\n    if (!attributes || attributes.length === 0) return;\n    for (const { key, value } of attributes) {\n      if (key) {\n        if (value === null) {\n          el.setAttribute(key, '');\n        } else if (typeof value === 'string') {\n          if (key.charCodeAt(0) !== xChar) {\n            el.setAttribute(key, value);\n          } else if (key.charCodeAt(3) === colonChar) {\n            el.setAttributeNS(xmlNS, key, value);\n          } else if (key.charCodeAt(5) === colonChar) {\n            el.setAttributeNS(xlinkNS, key, value);\n          } else {\n            el.setAttribute(key, value);\n          }\n        }\n      }\n    }\n  }\n}\n", "export const __LOADER_FLAG__ = Symbol.for('__LOADER_FLAG__');\nexport const __GARFISH_FLAG__ = Symbol.for('__GARFISH_FLAG__');\nexport const __MockHtml__ = '__garfishmockhtml__';\nexport const __MockBody__ = '__garfishmockbody__';\nexport const __MockHead__ = '__garfishmockhead__';\nexport const __REMOVE_NODE__ = '__garfishremovenode__';\n", "export type mimeType = ReturnType<typeof parseContentType>;\n\nexport function parseContentType(input: string) {\n  input = input?.trim();\n  if (!input) return null;\n\n  let idx = 0;\n  let type = '';\n  let subType = '';\n  while (idx < input.length && input[idx] !== '/') {\n    type += input[idx];\n    idx++;\n  }\n  if (type.length === 0 || idx >= input.length) {\n    return null;\n  }\n  // jump over '/'\n  idx++;\n  while (idx < input.length && input[idx] !== ';') {\n    subType += input[idx];\n    idx++;\n  }\n  subType = subType.replace(/[ \\t\\n\\r]+$/, '');\n  if (subType.length === 0) return null;\n\n  return {\n    type: type.toLocaleLowerCase(),\n    subtype: subType.toLocaleLowerCase(),\n  };\n}\n\nexport function isCss(mt: mimeType) {\n  return mt ? mt.type === 'text' && mt.subtype === 'css' : false;\n}\n\nexport function isHtml(mt: mimeType) {\n  return mt ? mt.type === 'text' && mt.subtype === 'html' : false;\n}\n\n// https://mimesniff.spec.whatwg.org/#javascript-mime-type\nexport function isJs(mt: mimeType) {\n  const { type, subtype } = mt || {};\n  switch (type) {\n    case 'text': {\n      switch (subtype) {\n        case 'ecmascript':\n        case 'javascript':\n        case 'javascript1.0':\n        case 'javascript1.1':\n        case 'javascript1.2':\n        case 'javascript1.3':\n        case 'javascript1.4':\n        case 'javascript1.5':\n        case 'jscript':\n        case 'livescript':\n        case 'x-ecmascript':\n        case 'x-javascript': {\n          return true;\n        }\n        default: {\n          return false;\n        }\n      }\n    }\n    case 'application': {\n      switch (subtype) {\n        case 'ecmascript':\n        case 'javascript':\n        case 'x-ecmascript':\n        case 'x-javascript': {\n          return true;\n        }\n        default: {\n          return false;\n        }\n      }\n    }\n    default: {\n      return false;\n    }\n  }\n}\n\nexport function isJsonp(mt: mimeType, src: string) {\n  const callbackRegExp = /callback/;\n  try {\n    const search = new URL(src).search;\n    const { type, subtype } = mt || {};\n    if (\n      type === 'application' &&\n      subtype === 'json' &&\n      callbackRegExp.test(search)\n    ) {\n      return true;\n    }\n  } catch (e) {\n    return false;\n  }\n  return false;\n}\n\nexport function isJsType({ src = '', type }: { src?: string; type?: string }) {\n  if (/\\.js$/.test(src)) return true;\n\n  if (type) {\n    if (type === 'module') return true;\n    const mimeTypeInfo = parseContentType(type);\n    if (isJsonp(mimeTypeInfo, src)) return true;\n    if (isJs(mimeTypeInfo)) return true;\n  }\n\n  return false;\n}\n\nexport function isCssType({ src = '', type }: { src?: string; type?: string }) {\n  if (/\\.css$/.test(src)) return true;\n\n  if (type) {\n    const mimeTypeInfo = parseContentType(type);\n    if (isCss(mimeTypeInfo)) return true;\n  }\n\n  return false;\n}\n\nexport function isHtmlType({\n  src = '',\n  type,\n}: {\n  src?: string;\n  type?: string;\n}) {\n  if (/\\.html$/.test(src)) return true;\n\n  if (type) {\n    const mimeTypeInfo = parseContentType(type);\n    if (isHtml(mimeTypeInfo)) return true;\n  }\n\n  return false;\n}\n\nexport function isGarfishConfigType({\n  type = '',\n}: {\n  type?: string;\n}) {\n  return /garfish-config/i.test(type);\n}\n", "import { hasOwn } from './utils';\n\n// reference https://zh-hans.reactjs.org/docs/events.html\nconst reactEvents = [\n  'onAbort',\n  'onAnimationCancel',\n  'onAnimationEnd',\n  'onAnimationIteration',\n  'onAuxClick',\n  'onBlur',\n  'onChange',\n  'onClick',\n  'onClose',\n  'onContextMenu',\n  'onDoubleClick',\n  'onError',\n  'onFocus',\n  'onGotPointerCapture',\n  'onInput',\n  'onKeyDown',\n  'onKeyPress',\n  'onKeyUp',\n  'onLoad',\n  'onLoadEnd',\n  'onLoadStart',\n  'onLostPointerCapture',\n  'onMouseDown',\n  'onMouseMove',\n  'onMouseOut',\n  'onMouseOver',\n  'onMouseUp',\n  'onPointerCancel',\n  'onPointerDown',\n  'onPointerEnter',\n  'onPointerLeave',\n  'onPointerMove',\n  'onPointerOut',\n  'onPointerOver',\n  'onPointerUp',\n  'onReset',\n  'onResize',\n  'onScroll',\n  'onSelect',\n  'onSelectionChange',\n  'onSelectStart',\n  'onSubmit',\n  'onTouchCancel',\n  'onTouchMove',\n  'onTouchStart',\n  'onTouchEnd',\n  'onTransitionCancel',\n  'onTransitionEnd',\n  'onDrag',\n  'onDragEnd',\n  'onDragEnter',\n  'onDragExit',\n  'onDragLeave',\n  'onDragOver',\n  'onDragStart',\n  'onDrop',\n  'onFocusOut',\n];\n\nconst divergentNativeEvents = {\n  onDoubleClick: 'dblclick',\n};\n\nconst mimickedReactEvents = {\n  onInput: 'onChange',\n  onFocusOut: 'onBlur',\n  onSelectionChange: 'onSelect',\n};\n\nexport function dispatchEvents(shadowRoot) {\n  const removeEventListeners: Array<() => void> = [];\n\n  reactEvents.forEach(function (reactEventName) {\n    const nativeEventName = getNativeEventName(reactEventName);\n\n    function retargetEvent(event) {\n      const path =\n        event.path ||\n        (event.composedPath && event.composedPath()) ||\n        composedPath(event.target);\n\n      for (let i = 0; i < path.length; i++) {\n        const el = path[i];\n        let props = null;\n        const reactComponent = findReactComponent(el);\n        const eventHandlers = findReactEventHandlers(el);\n\n        if (!eventHandlers) {\n          props = findReactProps(reactComponent);\n        } else {\n          props = eventHandlers;\n        }\n\n        if (reactComponent && props) {\n          dispatchEvent(event, reactEventName, props);\n        }\n\n        if (reactComponent && props && mimickedReactEvents[reactEventName]) {\n          dispatchEvent(event, mimickedReactEvents[reactEventName], props);\n        }\n\n        if (event.cancelBubble) {\n          break;\n        }\n\n        if (el === shadowRoot) {\n          break;\n        }\n      }\n    }\n\n    shadowRoot.addEventListener(nativeEventName, retargetEvent, false);\n\n    removeEventListeners.push(function () {\n      shadowRoot.removeEventListener(nativeEventName, retargetEvent, false);\n    });\n  });\n\n  return function () {\n    removeEventListeners.forEach(function (removeEventListener) {\n      removeEventListener();\n    });\n  };\n}\n\nfunction findReactEventHandlers(item) {\n  return findReactProperty(item, '__reactEventHandlers');\n}\n\nfunction findReactComponent(item) {\n  return findReactProperty(item, '_reactInternal');\n}\n\nfunction findReactProperty(item, propertyPrefix) {\n  for (const key in item) {\n    if (hasOwn(item, key) && key.indexOf(propertyPrefix) !== -1) {\n      return item[key];\n    }\n  }\n}\n\nfunction findReactProps(component) {\n  if (!component) return undefined;\n  if (component.memoizedProps) return component.memoizedProps; // React 16 Fiber\n  if (component._currentElement && component._currentElement.props)\n    return component._currentElement.props; // React <=15\n}\n\nfunction dispatchEvent(event, eventType, componentProps) {\n  event.persist = function () {\n    event.isPersistent = () => true;\n  };\n\n  if (componentProps[eventType]) {\n    componentProps[eventType](event);\n  }\n}\n\nfunction getNativeEventName(reactEventName) {\n  if (divergentNativeEvents[reactEventName]) {\n    return divergentNativeEvents[reactEventName];\n  }\n  return reactEventName.replace(/^on/, '').toLowerCase();\n}\n\nfunction composedPath(el) {\n  const path: Array<any> = [];\n  while (el) {\n    path.push(el);\n    if (el.tagName === 'HTML') {\n      path.push(document);\n      path.push(window);\n      return path;\n    }\n    el = el.parentElement;\n  }\n}\n", "import type { interfaces } from '@garfish/core';\nimport { dispatchEvents } from './dispatchEvents';\nimport { __MockHtml__ } from './garfish';\nimport { assert, createKey } from './utils';\n\n// Guarantee in strict isolation mode, the shadow in the dom popup window, floating layer depends on the body style of work\nfunction asyncNodeAttribute(from: Element, to: Element) {\n  const MutationObserver = window.MutationObserver;\n  const observer = new MutationObserver((mutations) => {\n    mutations.forEach(({ type, target, attributeName }) => {\n      if (target) {\n        const tag = target.nodeName?.toLowerCase();\n        if (\n          type === 'attributes' &&\n          attributeName === 'style' &&\n          (target === from || tag === 'body')\n        ) {\n          const style = (target as any)?.getAttribute('style');\n          if (style) {\n            to.setAttribute('style', style);\n          }\n        }\n      }\n    });\n  });\n  observer.observe(from, { attributes: true, subtree: true });\n}\n\nexport const appContainerId = 'garfish_app_for';\n\nexport function createAppContainer(appInfo: interfaces.AppInfo) {\n  // Create a temporary node, which is destroyed by the module itself\n  let htmlNode: HTMLDivElement | HTMLHtmlElement =\n    document.createElement('div');\n  const appContainer = document.createElement('div');\n\n  if (appInfo.sandbox && appInfo.sandbox.strictIsolation) {\n    htmlNode = document.createElement('html');\n    const root = appContainer.attachShadow({ mode: 'open' });\n    root.appendChild(htmlNode);\n    // asyncNodeAttribute(htmlNode, document.body);\n    dispatchEvents(root);\n  } else {\n    htmlNode.setAttribute(__MockHtml__, '');\n    appContainer.appendChild(htmlNode);\n  }\n\n  appContainer.id = `${appContainerId}_${appInfo.name}_${createKey()}`;\n\n  return {\n    htmlNode,\n    appContainer,\n  };\n}\n\n/**\n *  Wait for the specified dom ready tool method\n */\nfunction waitElementReady(selector, callback) {\n  const elem = document.querySelector(selector);\n\n  if (elem !== null) {\n    callback(elem);\n    return;\n  }\n\n  setTimeout(function () {\n    waitElementReady(selector, callback);\n  }, 50);\n}\n\nfunction delay(duration) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, duration);\n  });\n}\n\nfunction waitElement(selector, timeout = 3000) {\n  const waitPromise = new Promise(function (resolve) {\n    waitElementReady(selector, function (elem: Element) {\n      return resolve(elem);\n    });\n  });\n  return Promise.race([delay(timeout), waitPromise]);\n}\n\nexport async function getRenderNode(domGetter?: interfaces.DomGetter) {\n  assert(domGetter, `Invalid domGetter:\\n ${domGetter}.`);\n  let appWrapperNode;\n\n  if (typeof domGetter === 'string') {\n    appWrapperNode = (await waitElement(domGetter)) as\n      | Element\n      | null\n      | undefined;\n  } else if (typeof domGetter === 'function') {\n    appWrapperNode = await Promise.resolve(domGetter());\n  }\n  assert(appWrapperNode instanceof Element, `Invalid domGetter: ${domGetter}`);\n  return appWrapperNode as Element;\n}\n", "import { error } from './utils';\nimport { Node as VNode } from './domApis';\n\nenum ElementType {\n  TEXT = 3,\n  COMMENT = 8,\n  ELEMENT = 1,\n}\n\nfunction Attributes(this: any, { name, value }) {\n  this.key = name;\n  this.value = value;\n}\n\nconst generateAttributes = (el: Element) => {\n  const list: Array<any> = [];\n  const attrs = el.attributes;\n  const len = attrs.length;\n\n  if (len > 0) {\n    // Optimize for the most common cases\n    if (len === 1) {\n      list[0] = new Attributes(attrs[0]);\n    } else if (len === 2) {\n      list[0] = new Attributes(attrs[0]);\n      list[1] = new Attributes(attrs[1]);\n    } else {\n      for (let i = 0; i < len; i++) {\n        list[i] = new Attributes(attrs[i]);\n      }\n    }\n  }\n  return list;\n};\n\nconst createElement = (el: Element, filter: (el: VNode) => VNode) => {\n  switch (el.nodeType) {\n    case ElementType.TEXT:\n      return {\n        type: 'text',\n        content: el.textContent,\n      };\n    case ElementType.COMMENT:\n      return {\n        type: 'comment',\n        content: el.textContent,\n      };\n    case ElementType.ELEMENT:\n      return filter({\n        type: 'element',\n        tagName: el.tagName.toLowerCase(),\n        attributes: generateAttributes(el),\n        children: Array.from(el.childNodes).map((node) => {\n          return createElement(node as Element, filter);\n        }),\n      });\n    default:\n      error(`Invalid node type \"${el.nodeType}\"`);\n  }\n};\n\n// 1M text takes about time 60ms\nexport function templateParse(code: string, tags: Array<string>) {\n  let astTree: Array<VNode> = [];\n  const htmlNode = document.createElement('html');\n  const collectionEls: Record<string, Array<VNode>> = {};\n  const filter = (el) => {\n    if (tags.includes(el.tagName)) {\n      collectionEls[el.tagName].push(el);\n    }\n    return el;\n  };\n\n  htmlNode.innerHTML = code;\n  for (const tag of tags) {\n    collectionEls[tag] = [];\n  }\n  astTree = Array.from(htmlNode.childNodes).map((node) => {\n    return createElement(node as Element, filter);\n  });\n  return [astTree, collectionEls] as const;\n}\n", "import createDebug from 'debug';\n\nconst log = createDebug('garfish');\n\nexport const coreLog = log.extend('core');\nexport const routerLog = log.extend('router');\n", "interface LockItem {\n  id: number;\n  waiting: Promise<void>;\n  resolve: (value?: any) => void;\n}\n\nexport class Lock {\n  private id = 0;\n  private lockQueue: LockItem[] = [];\n\n  genId() {\n    return ++this.id;\n  }\n\n  getId() {\n    return this.id;\n  }\n\n  async wait(id: number) {\n    const { lockQueue } = this;\n    const firstLock = lockQueue[0];\n    const lastLock = firstLock ? lockQueue[lockQueue.length - 1] : undefined;\n\n    // This lock is processing, just return immediately\n    if (firstLock?.id === id) return;\n\n    // This lock should wait for the other lock\n    let lockItem = lockQueue.find(item => item.id === id);\n\n    if (!lockItem) {\n      let promiseResolve: LockItem['resolve'] = () => {};\n      const waiting = new Promise<void>(resolve => {\n        promiseResolve = resolve;\n      });\n      // create a new lock\n      lockItem = { id, waiting, resolve: promiseResolve };\n      lockQueue.push(lockItem);\n    }\n    if (lastLock) {\n      // start waiting\n      await lastLock.waiting;\n    }\n    // don't need to wait\n  }\n\n  release() {\n    const { lockQueue } = this;\n    const firstLock = lockQueue[0];\n    if (!firstLock) return;\n    // remove this lock\n    lockQueue.shift();\n    // resolve the promise of current lock\n    firstLock.resolve();\n  }\n\n  clear() {\n    this.lockQueue = [];\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
